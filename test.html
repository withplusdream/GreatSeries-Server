<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>전송테스트</title>

    <!-- Font -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
    <link href="//cdn.jsdelivr.net/gh/wan2land/d2coding/d2coding-full.css" rel="stylesheet" />

    <!-- Style -->
    <link rel="stylesheet" href="public/css/reset.css">
    <link rel="stylesheet" href="public/css/ui.css">

    <!-- Library -->
    <script src="./public/lib/jquery.js"></script>
    <script src="/socket.io/socket.io.js"></script>
</head>

<body>
    <h1><span>전송테스트</span></h1>
    <div class="row">
        <div class="col-33">
            <div class="container">
                <h2>전송</h2>
                <input id="input-my-team-id" type="number" placeholder="내팀번호">
                <input id="input-team-id" type="number" placeholder="팀번호">
                <button id="btn-propose-negotiation">협상 시작</button>
                <button id="btn-accepted-negotiation-true">협상 승인</button>
                <button id="btn-accepted-negotiation-false">협상 취소</button>
                <button id="btn-close-negotiation">협상 닫기</button>
                <button id="btn-leave-negotiation">협상 떠나기</button>
                <button id="btn-allteam-login">모든팀 로그인 완료</button>
            </div>
        </div>
        <div class="col-33">
            <div class="container">
            </div>
        </div>
    </div>
</body>

</html>
<script>
    var socket = io();
    var onevent = socket.onevent;

    $("#btn-propose-negotiation").click(function() {
        console.log("#btn-propose-negotiation");
        socket.emit("ProposeNegotiation", {
            send_team_id: parseInt($("#input-my-team-id").val()),
            receive_team_id: parseInt($("#input-team-id").val())
        });
    });

    $("#btn-accepted-negotiation-true").click(function() {
        console.log("#btn-accepted-negotiation-true");
        socket.emit("AcceptNegotiation", {
            send_team_id: parseInt($("#input-my-team-id").val()),
            receive_team_id: parseInt($("#input-team-id").val()),
            isAccepted: true
        });
    });

    $("#btn-accepted-negotiation-false").click(function() {
        console.log("#btn-accepted-negotiation-false");
        socket.emit("AcceptNegotiation", {
            send_team_id: parseInt($("#input-my-team-id").val()),
            receive_team_id: parseInt($("#input-team-id").val()),
            isAccepted: false
        });
    });

    $("#btn-close-negotiation").click(function() {
        console.log("#btn-close-negotiation");
        socket.emit("CloseNegotiation", {
            send_team_id: parseInt($("#input-my-team-id").val()),
            receive_team_id: parseInt($("#input-team-id").val())
        });
    });

    $("#btn-leave-negotiation").click(function() {
        console.log("#btn-leave-negotiation");
        socket.emit("LeaveNegotiation", {
            send_team_id: parseInt($("#input-my-team-id").val())
        });
    });

    $("#btn-allteam-login").click(function() {
        console.log("#btn-allteam-login");
        socket.emit("AllTeamLogin", {});
    });
</script>